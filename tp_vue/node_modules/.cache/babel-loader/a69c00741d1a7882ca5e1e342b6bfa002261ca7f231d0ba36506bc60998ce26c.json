{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"part-list\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = [\"onClick\"];\nexport function render(_ctx, _cache) {\n  const _component_ProductFilters = _resolveComponent(\"ProductFilters\");\n  const _component_CartFile = _resolveComponent(\"CartFile\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_ProductFilters, {\n    UpdateCategory: _ctx.HandleUpdateCategory\n  }, null, 8 /* PROPS */, [\"UpdateCategory\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filteredItems, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: item.id,\n      class: \"part-item\"\n    }, [_createElementVNode(\"div\", null, [_createElementVNode(\"img\", {\n      src: require(`@/assets/images/${item.Image}`)\n    }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"p\", null, _toDisplayString(item.nom), 1 /* TEXT */), item.disponible ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, \"En stock\")) : (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \"Indisponible\")), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.addToCart(item.id)\n    }, \"Ajouter Au Panier\", 8 /* PROPS */, _hoisted_5)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createVNode(_component_CartFile, {\n    cartItems: _ctx.cart,\n    total: _ctx.calculateTotal,\n    onRemoveItem: _ctx.removeFromCart\n  }, null, 8 /* PROPS */, [\"cartItems\", \"total\", \"onRemoveItem\"])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_createVNode","_component_ProductFilters","UpdateCategory","_ctx","HandleUpdateCategory","_createElementVNode","_hoisted_1","_Fragment","_renderList","filteredItems","item","id","src","require","Image","_hoisted_2","_toDisplayString","nom","disponible","_hoisted_3","_hoisted_4","onClick","$event","addToCart","_hoisted_5","_component_CartFile","cartItems","cart","total","calculateTotal","onRemoveItem","removeFromCart"],"sources":["/home/kyyblin/js_proj_hamza_gougasse/tp_vue/src/components/PartList.vue"],"sourcesContent":["<template>\n  <div>\n    <ProductFilters :UpdateCategory=\"HandleUpdateCategory\"/>\n    <div class=\"part-list\">\n      <ul>\n        <li v-for=\"item in filteredItems\" :key=\"item.id\" class=\"part-item\">\n          <div>\n            <img :src=\"require(`@/assets/images/${item.Image}`)\" >\n            <p>{{item.nom}}</p>\n            <p v-if=\"item.disponible\">En stock</p>\n            <p v-else>Indisponible</p>\n            <button @click=\"addToCart(item.id)\">Ajouter Au Panier</button>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <CartFile :cartItems=\"cart\" :total=\"calculateTotal\" @remove-item=\"removeFromCart\" />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport CartFile from './CartFile.vue' // eslint-disable-line no-unused-vars\n\n\nimport productsData from '@/assets/products.json'\nimport ProductFilters from './ProductFilters.vue'\n\nconst items = ref(productsData)\nconst cart = ref([])\nconst category= ref(\"\")\n\nconst filteredItems = computed(() => {\n  if ( category.value==\"\") return this.items.value;\n  return items.value.filter(item => item.categorie==category.value)\n})\nfunction \nconst calculateTotal = computed(() => {\n  let ans = 0 ; for ( let  item of cart.value) ans+= item.prix; \n  return ans ; \n})\n\nfunction addToCart(id) {\n  const item = items.value.find(item => item.id === id)\n  if (item) {\n    cart.value.push(item)\n  }\n}\n\nfunction removeFromCart(id) {\n  const index = cart.value.findIndex(item => item.id === id)\n  if (index !== -1) {\n    cart.value.splice(index, 1)\n  }\n}\n</script>"],"mappings":";;EAGSA,KAAK,EAAC;AAAW;mBAH1B;;EAAAC,GAAA;AAAA;;EAAAA,GAAA;AAAA;mBAAA;;;;uBACEC,mBAAA,CAgBM,cAfJC,YAAA,CAAwDC,yBAAA;IAAvCC,cAAc,EAAEC,IAAA,CAAAC;EAAoB,6CACrDC,mBAAA,CAYM,OAZNC,UAYM,GAXJD,mBAAA,CAUK,c,kBATHN,mBAAA,CAQKQ,SAAA,QAbbC,WAAA,CAK2BL,IAAA,CAAAM,aAAa,EAArBC,IAAI;yBAAfX,mBAAA,CAQK;MAR8BD,GAAG,EAAEY,IAAI,CAACC,EAAE;MAAEd,KAAK,EAAC;QACrDQ,mBAAA,CAMM,cALJA,mBAAA,CAAsD;MAAhDO,GAAG,EAAEC,OAAO,oBAAoBH,IAAI,CAACI,KAAK;4BAP5DC,UAAA,GAQYV,mBAAA,CAAmB,WAAAW,gBAAA,CAAdN,IAAI,CAACO,GAAG,kBACJP,IAAI,CAACQ,UAAU,I,cAAxBnB,mBAAA,CAAsC,KATlDoB,UAAA,EASsC,UAAQ,M,cAClCpB,mBAAA,CAA0B,KAVtCqB,UAAA,EAUsB,cAAY,IACtBf,mBAAA,CAA8D;MAArDgB,OAAK,EAAAC,MAAA,IAAEnB,IAAA,CAAAoB,SAAS,CAACb,IAAI,CAACC,EAAE;OAAG,mBAAiB,iBAXjEa,UAAA,E;sCAgBIxB,YAAA,CAAoFyB,mBAAA;IAAzEC,SAAS,EAAEvB,IAAA,CAAAwB,IAAI;IAAGC,KAAK,EAAEzB,IAAA,CAAA0B,cAAc;IAAGC,YAAW,EAAE3B,IAAA,CAAA4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}