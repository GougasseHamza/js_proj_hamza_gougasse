{"ast":null,"code":"import { createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"part-list\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode($setup[\"ProductFilters\"], {\n    onSortOpt: $setup.HandleSortOpt,\n    onShowAll: $setup.HandleShowAll,\n    onFilterName: $setup.HandleFilterName,\n    onChangeCategory: $setup.HandleUpdateCategory\n  }), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredItems, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: item.id,\n      class: \"part-item\"\n    }, [_createElementVNode(\"div\", null, [_createElementVNode(\"img\", {\n      src: require(`@/assets/images/${item.Image}`)\n    }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"p\", null, _toDisplayString(item.nom), 1 /* TEXT */), item.disponible ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, \"En stock\")) : (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \"Indisponible\")), _createElementVNode(\"button\", {\n      onClick: $event => $setup.addToCart(item.id)\n    }, \"Ajouter Au Panier\", 8 /* PROPS */, _hoisted_5)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createVNode($setup[\"CartFile\"], {\n    cartItems: $setup.cart,\n    total: $setup.calculateTotal,\n    onRemoveItem: $setup.removeFromCart\n  }, null, 8 /* PROPS */, [\"cartItems\", \"total\"])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_createVNode","$setup","onSortOpt","HandleSortOpt","onShowAll","HandleShowAll","onFilterName","HandleFilterName","onChangeCategory","HandleUpdateCategory","_createElementVNode","_hoisted_1","_Fragment","_renderList","filteredItems","item","id","src","require","Image","_hoisted_2","_toDisplayString","nom","disponible","_hoisted_3","_hoisted_4","onClick","$event","addToCart","_hoisted_5","cartItems","cart","total","calculateTotal","onRemoveItem","removeFromCart"],"sources":["/home/kyyblin/js_proj_hamza_gougasse/tp_vue/src/components/PartList.vue"],"sourcesContent":["<template>\n  <div>\n    <ProductFilters @sort-opt=\"HandleSortOpt\" @show-all=\"HandleShowAll\" @filter-name=\"HandleFilterName\" @change-category=\"HandleUpdateCategory\" />\n    <div class=\"part-list\">\n      <ul>\n        <li v-for=\"item in filteredItems\" :key=\"item.id\" class=\"part-item\">\n          <div>\n            <img :src=\"require(`@/assets/images/${item.Image}`)\" />\n            <p>{{ item.nom }}</p>\n            <p v-if=\"item.disponible\">En stock</p>\n            <p v-else>Indisponible</p>\n            <button @click=\"addToCart(item.id)\">Ajouter Au Panier</button>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <CartFile :cartItems=\"cart\" :total=\"calculateTotal\" @remove-item=\"removeFromCart\" />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport CartFile from './CartFile.vue'\nimport ProductFilters from './ProductFilters.vue'\nimport productsData from '@/assets/products.json'\n\nconst items = ref(productsData)\nconst cart = ref([])\nconst category = ref(\"\")\nconst curr_product = ref(\"\")\nconst showAll=ref(true) \nconst sortopt=ref(true)\nconst filteredItems = computed(() => {\n  return items.value.filter(item => { \n    if ( category.value && item.category!= category.value) return false; \n    if ( curr_product.value && !item.nom.toLowerCase().includes(curr_product.value)) return false; \n    if ( showAll.value && !item.disponible) return false; \n    return true ; \n  })\n})\n\nfunction HandleUpdateCategory(cat) {\n  category.value = cat\n}\nfunction HandleFilterName(name){ \n  curr_product.value= name ; \n}\nfunction HandleShowAll(val){\n  showAll.value=val\n}\n\n\n\n\nfunction HandleSortOpt(opt){ \n  sortopt.value=opt\n}\n\nfunction SortItems(){\n  return items.value.sort((a,b) => ( sortopt.value))\n}\nconst calculateTotal = computed(() => {\n  return cart.value.reduce((sum, item) => sum + item.prix, 0)\n})\n\nfunction addToCart(id) {\n  const item = items.value.find(item => item.id === id)\n  if (item) {\n    cart.value.push(item)\n  }\n}\n\nfunction removeFromCart(id) {\n  const index = cart.value.findIndex(item => item.id === id)\n  if (index !== -1) {\n    cart.value.splice(index, 1)\n  }\n}\n</script>\n"],"mappings":";;EAGSA,KAAK,EAAC;AAAW;mBAH1B;;EAAAC,GAAA;AAAA;;EAAAA,GAAA;AAAA;mBAAA;;uBACEC,mBAAA,CAgBM,cAfJC,YAAA,CAA8IC,MAAA;IAA7HC,SAAQ,EAAED,MAAA,CAAAE,aAAa;IAAGC,SAAQ,EAAEH,MAAA,CAAAI,aAAa;IAAGC,YAAW,EAAEL,MAAA,CAAAM,gBAAgB;IAAGC,gBAAe,EAAEP,MAAA,CAAAQ;MACtHC,mBAAA,CAYM,OAZNC,UAYM,GAXJD,mBAAA,CAUK,c,kBATHX,mBAAA,CAQKa,SAAA,QAbbC,WAAA,CAK2BZ,MAAA,CAAAa,aAAa,EAArBC,IAAI;yBAAfhB,mBAAA,CAQK;MAR8BD,GAAG,EAAEiB,IAAI,CAACC,EAAE;MAAEnB,KAAK,EAAC;QACrDa,mBAAA,CAMM,cALJA,mBAAA,CAAuD;MAAjDO,GAAG,EAAEC,OAAO,oBAAoBH,IAAI,CAACI,KAAK;4BAP5DC,UAAA,GAQYV,mBAAA,CAAqB,WAAAW,gBAAA,CAAfN,IAAI,CAACO,GAAG,kBACLP,IAAI,CAACQ,UAAU,I,cAAxBxB,mBAAA,CAAsC,KATlDyB,UAAA,EASsC,UAAQ,M,cAClCzB,mBAAA,CAA0B,KAVtC0B,UAAA,EAUsB,cAAY,IACtBf,mBAAA,CAA8D;MAArDgB,OAAK,EAAAC,MAAA,IAAE1B,MAAA,CAAA2B,SAAS,CAACb,IAAI,CAACC,EAAE;OAAG,mBAAiB,iBAXjEa,UAAA,E;sCAgBI7B,YAAA,CAAoFC,MAAA;IAAzE6B,SAAS,EAAE7B,MAAA,CAAA8B,IAAI;IAAGC,KAAK,EAAE/B,MAAA,CAAAgC,cAAc;IAAGC,YAAW,EAAEjC,MAAA,CAAAkC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}