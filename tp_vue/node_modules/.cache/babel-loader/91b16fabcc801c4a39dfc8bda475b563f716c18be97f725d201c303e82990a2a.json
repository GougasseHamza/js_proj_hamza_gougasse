{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"part-list\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = [\"onClick\"];\nexport function render(_ctx, _cache) {\n  const _component_ProductFilters = _resolveComponent(\"ProductFilters\");\n  const _component_CartFile = _resolveComponent(\"CartFile\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_ProductFilters, {\n    onSortOpt: _ctx.HandleSortOpt,\n    onShowAll: _ctx.HandleShowAll,\n    onFilterName: _ctx.HandleFilterName,\n    onChangeCategory: _ctx.HandleUpdateCategory\n  }, null, 8 /* PROPS */, [\"onSortOpt\", \"onShowAll\", \"onFilterName\", \"onChangeCategory\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filteredItems, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: item.id,\n      class: \"part-item\"\n    }, [_createElementVNode(\"div\", null, [_createElementVNode(\"img\", {\n      src: require(`@/assets/images/${item.Image}`)\n    }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"p\", null, _toDisplayString(item.nom), 1 /* TEXT */), item.disponible ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, \"En stock\")) : (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \"Indisponible\")), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.addToCart(item.id)\n    }, \"Ajouter Au Panier\", 8 /* PROPS */, _hoisted_5)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createVNode(_component_CartFile, {\n    cartItems: _ctx.cart,\n    total: _ctx.calculateTotal,\n    onRemoveItem: _ctx.removeFromCart\n  }, null, 8 /* PROPS */, [\"cartItems\", \"total\", \"onRemoveItem\"])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_createVNode","_component_ProductFilters","onSortOpt","_ctx","HandleSortOpt","onShowAll","HandleShowAll","onFilterName","HandleFilterName","onChangeCategory","HandleUpdateCategory","_createElementVNode","_hoisted_1","_Fragment","_renderList","filteredItems","item","id","src","require","Image","_hoisted_2","_toDisplayString","nom","disponible","_hoisted_3","_hoisted_4","onClick","$event","addToCart","_hoisted_5","_component_CartFile","cartItems","cart","total","calculateTotal","onRemoveItem","removeFromCart"],"sources":["/home/kyyblin/js_proj_hamza_gougasse/tp_vue/src/components/PartList.vue"],"sourcesContent":["<template>\n  <div>\n    <ProductFilters @sort-opt=\"HandleSortOpt\" @show-all=\"HandleShowAll\" @filter-name=\"HandleFilterName\" @change-category=\"HandleUpdateCategory\" />\n    <div class=\"part-list\">\n      <ul>\n        <li v-for=\"item in filteredItems\" :key=\"item.id\" class=\"part-item\">\n          <div>\n            <img :src=\"require(`@/assets/images/${item.Image}`)\" />\n            <p>{{ item.nom }}</p>\n            <p v-if=\"item.disponible\">En stock</p>\n            <p v-else>Indisponible</p>\n            <button @click=\"addToCart(item.id)\">Ajouter Au Panier</button>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <CartFile :cartItems=\"cart\" :total=\"calculateTotal\" @remove-item=\"removeFromCart\" />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport CartFile from './CartFile.vue'\nimport ProductFilters from './ProductFilters.vue'\nimport productsData from '@/assets/products.json'\n\nconst items = ref(productsData)\nconst cart = ref([])\nconst category = ref(\"\")\nconst curr_product = ref(\"\")\nconst showAll=ref(true) \nconst sortopt=ref(true)\nconst filteredItems = computed(() => {\n  return items.value.filter(item => { \n    if ( category.value && item.category!= category.value) return false; \n    if ( curr_product.value && !item.nom.toLowerCase().includes(curr_product.value)) return false; \n    if ( showAll.value && !item.disponible) return false; \n    return true ; \n  })\n})\n\nfunction HandleUpdateCategory(cat) {\n  category.value = cat\n}\nfunction HandleFilterName(name){ \n  curr_product.value= name ; \n}\nfunction HandleShowAll(val){\n  showAll.value=val\n}\n\n\n\n\nfunction HandleSortOpt(opt){ \n  sortopt.value=opt\n}\n\nfunction SortItems(){\n  return items.value.sort((a,b) => ( sortopt.value ? (a-b):()))\n}\nconst calculateTotal = computed(() => {\n  return cart.value.reduce((sum, item) => sum + item.prix, 0)\n})\n\nfunction addToCart(id) {\n  const item = items.value.find(item => item.id === id)\n  if (item) {\n    cart.value.push(item)\n  }\n}\n\nfunction removeFromCart(id) {\n  const index = cart.value.findIndex(item => item.id === id)\n  if (index !== -1) {\n    cart.value.splice(index, 1)\n  }\n}\n</script>\n"],"mappings":";;EAGSA,KAAK,EAAC;AAAW;mBAH1B;;EAAAC,GAAA;AAAA;;EAAAA,GAAA;AAAA;mBAAA;;;;uBACEC,mBAAA,CAgBM,cAfJC,YAAA,CAA8IC,yBAAA;IAA7HC,SAAQ,EAAEC,IAAA,CAAAC,aAAa;IAAGC,SAAQ,EAAEF,IAAA,CAAAG,aAAa;IAAGC,YAAW,EAAEJ,IAAA,CAAAK,gBAAgB;IAAGC,gBAAe,EAAEN,IAAA,CAAAO;2FACtHC,mBAAA,CAYM,OAZNC,UAYM,GAXJD,mBAAA,CAUK,c,kBATHZ,mBAAA,CAQKc,SAAA,QAbbC,WAAA,CAK2BX,IAAA,CAAAY,aAAa,EAArBC,IAAI;yBAAfjB,mBAAA,CAQK;MAR8BD,GAAG,EAAEkB,IAAI,CAACC,EAAE;MAAEpB,KAAK,EAAC;QACrDc,mBAAA,CAMM,cALJA,mBAAA,CAAuD;MAAjDO,GAAG,EAAEC,OAAO,oBAAoBH,IAAI,CAACI,KAAK;4BAP5DC,UAAA,GAQYV,mBAAA,CAAqB,WAAAW,gBAAA,CAAfN,IAAI,CAACO,GAAG,kBACLP,IAAI,CAACQ,UAAU,I,cAAxBzB,mBAAA,CAAsC,KATlD0B,UAAA,EASsC,UAAQ,M,cAClC1B,mBAAA,CAA0B,KAVtC2B,UAAA,EAUsB,cAAY,IACtBf,mBAAA,CAA8D;MAArDgB,OAAK,EAAAC,MAAA,IAAEzB,IAAA,CAAA0B,SAAS,CAACb,IAAI,CAACC,EAAE;OAAG,mBAAiB,iBAXjEa,UAAA,E;sCAgBI9B,YAAA,CAAoF+B,mBAAA;IAAzEC,SAAS,EAAE7B,IAAA,CAAA8B,IAAI;IAAGC,KAAK,EAAE/B,IAAA,CAAAgC,cAAc;IAAGC,YAAW,EAAEjC,IAAA,CAAAkC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}